/**
 * static class that stores file paths for all game images, including characters, enemies, objects, and UI elements.
 * @class
 */
class ImageHub {
    static character = {
        walk: [
            "assets/img/2_character_pepe/2_walk/W-21.png",
            "assets/img/2_character_pepe/2_walk/W-22.png",
            "assets/img/2_character_pepe/2_walk/W-23.png",
            "assets/img/2_character_pepe/2_walk/W-24.png",
            "assets/img/2_character_pepe/2_walk/W-25.png",
            "assets/img/2_character_pepe/2_walk/W-26.png",
        ],

        idle: [
            "assets/img/2_character_pepe/1_idle/idle/I-1.png",
            "assets/img/2_character_pepe/1_idle/idle/I-2.png",
            "assets/img/2_character_pepe/1_idle/idle/I-3.png",
            "assets/img/2_character_pepe/1_idle/idle/I-4.png",
            "assets/img/2_character_pepe/1_idle/idle/I-5.png",
            "assets/img/2_character_pepe/1_idle/idle/I-6.png",
            "assets/img/2_character_pepe/1_idle/idle/I-7.png",
            "assets/img/2_character_pepe/1_idle/idle/I-8.png",
            "assets/img/2_character_pepe/1_idle/idle/I-9.png",
            "assets/img/2_character_pepe/1_idle/idle/I-10.png",
        ],

        idleLong: [
            "assets/img/2_character_pepe/1_idle/long_idle/I-11.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-12.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-13.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-14.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-15.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-16.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-17.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-18.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-19.png",
            "assets/img/2_character_pepe/1_idle/long_idle/I-20.png",
        ],

        jump: [
            "assets/img/2_character_pepe/3_jump/J-31.png",
            "assets/img/2_character_pepe/3_jump/J-32.png",
            "assets/img/2_character_pepe/3_jump/J-33.png",
            "assets/img/2_character_pepe/3_jump/J-34.png",
            "assets/img/2_character_pepe/3_jump/J-35.png",
            "assets/img/2_character_pepe/3_jump/J-36.png",
            "assets/img/2_character_pepe/3_jump/J-37.png",
            "assets/img/2_character_pepe/3_jump/J-38.png",
            "assets/img/2_character_pepe/3_jump/J-39.png",
        ],

        dead: [
            "assets/img/2_character_pepe/5_dead/D-51.png",
            "assets/img/2_character_pepe/5_dead/D-52.png",
            "assets/img/2_character_pepe/5_dead/D-53.png",
            "assets/img/2_character_pepe/5_dead/D-54.png",
            "assets/img/2_character_pepe/5_dead/D-55.png",
            "assets/img/2_character_pepe/5_dead/D-56.png",
            "assets/img/2_character_pepe/5_dead/D-57.png",
        ],

        hurt: [
            "assets/img/2_character_pepe/4_hurt/H-41.png",
            "assets/img/2_character_pepe/4_hurt/H-42.png",
            "assets/img/2_character_pepe/4_hurt/H-43.png",
        ],
    };

    static babyChick = {
        walk: [
            "assets/img/3_enemies_chicken/chicken_small/1_walk/1_w.png",
            "assets/img/3_enemies_chicken/chicken_small/1_walk/2_w.png",
            "assets/img/3_enemies_chicken/chicken_small/1_walk/3_w.png",
        ],
        dead: ["assets/img/3_enemies_chicken/chicken_small/2_dead/dead.png"],
    };

    static chicken = {
        walk: [
            "assets/img/3_enemies_chicken/chicken_normal/1_walk/w1_w.png",
            "assets/img/3_enemies_chicken/chicken_normal/1_walk/w2_w.png",
            "assets/img/3_enemies_chicken/chicken_normal/1_walk/w3_w.png",
        ],
    };

    static endboss = {
        alert: [
            "assets/img/4_enemie_boss_chicken/2_alert/G5.png",
            "assets/img/4_enemie_boss_chicken/2_alert/G6.png",
            "assets/img/4_enemie_boss_chicken/2_alert/G7.png",
            "assets/img/4_enemie_boss_chicken/2_alert/G8.png",
            "assets/img/4_enemie_boss_chicken/2_alert/G9.png",
            "assets/img/4_enemie_boss_chicken/2_alert/G10.png",
            "assets/img/4_enemie_boss_chicken/2_alert/G11.png",
            "assets/img/4_enemie_boss_chicken/2_alert/G12.png",
        ],

        hurt: [
            "assets/img/4_enemie_boss_chicken/4_hurt/G21.png",
            "assets/img/4_enemie_boss_chicken/4_hurt/G22.png",
            "assets/img/4_enemie_boss_chicken/4_hurt/G23.png",
        ],

        dead: [
            "assets/img/4_enemie_boss_chicken/5_dead/G24.png",
            "assets/img/4_enemie_boss_chicken/5_dead/G25.png",
            "assets/img/4_enemie_boss_chicken/5_dead/G26.png",
        ],

        walk: [
            "assets/img/4_enemie_boss_chicken/1_walk/G1.png",
            "assets/img/4_enemie_boss_chicken/1_walk/G2.png",
            "assets/img/4_enemie_boss_chicken/1_walk/G3.png",
            "assets/img/4_enemie_boss_chicken/1_walk/G4.png",
        ],

        attack: [
            "assets/img/4_enemie_boss_chicken/3_attack/G13.png",
            "assets/img/4_enemie_boss_chicken/3_attack/G14.png",
            "assets/img/4_enemie_boss_chicken/3_attack/G15.png",
            "assets/img/4_enemie_boss_chicken/3_attack/G16.png",
            "assets/img/4_enemie_boss_chicken/3_attack/G17.png",
            "assets/img/4_enemie_boss_chicken/3_attack/G18.png",
            "assets/img/4_enemie_boss_chicken/3_attack/G19.png",
            "assets/img/4_enemie_boss_chicken/3_attack/G20.png",
        ],
    };

    static healthBar = [
        "assets/img/7_statusbars/1_statusbar/2_statusbar_health/green/100.png",
        "assets/img/7_statusbars/1_statusbar/2_statusbar_health/green/80.png",
        "assets/img/7_statusbars/1_statusbar/2_statusbar_health/green/60.png",
        "assets/img/7_statusbars/1_statusbar/2_statusbar_health/orange/40.png",
        "assets/img/7_statusbars/1_statusbar/2_statusbar_health/orange/20.png",
        "assets/img/7_statusbars/1_statusbar/2_statusbar_health/orange/0.png",
    ];

    static bossBar = [
        "assets/img/7_statusbars/2_statusbar_endboss/orange/orange0.png",
        "assets/img/7_statusbars/2_statusbar_endboss/orange/orange20.png",
        "assets/img/7_statusbars/2_statusbar_endboss/orange/orange40.png",
        "assets/img/7_statusbars/2_statusbar_endboss/orange/orange60.png",
        "assets/img/7_statusbars/2_statusbar_endboss/orange/orange80.png",
        "assets/img/7_statusbars/2_statusbar_endboss/orange/orange100.png",
    ];

    static bottleBar = [
        "assets/img/7_statusbars/1_statusbar/3_statusbar_bottle/blue/100.png",
        "assets/img/7_statusbars/1_statusbar/3_statusbar_bottle/blue/80.png",
        "assets/img/7_statusbars/1_statusbar/3_statusbar_bottle/blue/60.png",
        "assets/img/7_statusbars/1_statusbar/3_statusbar_bottle/blue/40.png",
        "assets/img/7_statusbars/1_statusbar/3_statusbar_bottle/blue/20.png",
        "assets/img/7_statusbars/1_statusbar/3_statusbar_bottle/blue/0.png",
    ];

    static coinBar = [
        "assets/img/7_statusbars/1_statusbar/1_statusbar_coin/green/100.png",
        "assets/img/7_statusbars/1_statusbar/1_statusbar_coin/green/80.png",
        "assets/img/7_statusbars/1_statusbar/1_statusbar_coin/green/60.png",
        "assets/img/7_statusbars/1_statusbar/1_statusbar_coin/green/40.png",
        "assets/img/7_statusbars/1_statusbar/1_statusbar_coin/green/20.png",
        "assets/img/7_statusbars/1_statusbar/1_statusbar_coin/green/0.png",
    ];

    static bottle = {
        spin: [
            "assets/img/6_salsa_bottle/bottle_rotation/1_bottle_rotation.png",
            "assets/img/6_salsa_bottle/bottle_rotation/2_bottle_rotation.png",
            "assets/img/6_salsa_bottle/bottle_rotation/3_bottle_rotation.png",
            "assets/img/6_salsa_bottle/bottle_rotation/4_bottle_rotation.png",
        ],

        splash: [
            "assets/img/6_salsa_bottle/bottle_rotation/bottle_splash/1_bottle_splash.png",
            "assets/img/6_salsa_bottle/bottle_rotation/bottle_splash/2_bottle_splash.png",
            "assets/img/6_salsa_bottle/bottle_rotation/bottle_splash/3_bottle_splash.png",
            "assets/img/6_salsa_bottle/bottle_rotation/bottle_splash/4_bottle_splash.png",
            "assets/img/6_salsa_bottle/bottle_rotation/bottle_splash/5_bottle_splash.png",
            "assets/img/6_salsa_bottle/bottle_rotation/bottle_splash/6_bottle_splash.png",
        ],
    };
}

/**
 * A static class that manages in-game audio effects and music.
 * @class
 */
class AudioHub {
    //#region variables
    static volumeOn = true;

    static bottleCollect = new Audio("audio/bottle_collect.mp3");
    static coinCollect = new Audio("audio/coin.mp3");
    static jumpKill = new Audio("audio/jumpkill.mp3");
    static bottleSpin = new Audio("audio/bottle_spin.mp3");
    static bottleSplash = new Audio("audio/bottle_splash.mp3");
    static characterHurt = new Audio("audio/character_hurt.mp3");
    static bossAttack = new Audio("audio/terminating.mp3");
    static music = new Audio("audio/music.mp3");
    static characterDead = new Audio("audio/game_over.mp3");
    static win = new Audio("audio/Win.mp3");
    static angryChicken = new Audio("audio/chicken_angry.mp3");

    static allSounds = [
        AudioHub.bottleCollect,
        AudioHub.coinCollect,
        AudioHub.jumpKill,
        AudioHub.bottleSpin,
        AudioHub.bottleSplash,
        AudioHub.characterHurt,
        AudioHub.bossAttack,
        AudioHub.music,
        AudioHub.characterDead,
        AudioHub.win,
    ];

    //#endregion

    /**
     * Plays specific sound effect.
     * Resets playback position and adjusts volume based on `volumeOn` setting.
     * @param {HTMLAudioElement} sound - The sound effect to play.
     */
    static playOne(sound) {
        if (AudioHub.volumeOn) {
            sound.volume = 0.2;
        } else {
            sound.volume = 0;
        }
        sound.currentTime = 0;
        sound.play();
    }

    /**
     * Stops all sound effects and resets volume control.
     */
    static stopAll() {
        AudioHub.allSounds.forEach((sound) => {
            sound.pause();
        });
        document.getElementById("volume").value = 0.2;
    }

    static stopOne(sound) {
        sound.pause();
    }

    /**
     * Toggles the game's audio on or off and updates volume for all sounds.
     */
    static toggleVolume() {
        this.volumeOn = !this.volumeOn;
        localStorage.setItem("volumeOn", JSON.stringify(this.volumeOn));

        AudioHub.allSounds.forEach((sound) => {
            sound.volume = this.volumeOn ? 0.2 : 0;
        });

        const muteButtonRef = document.getElementById("volume");

        if (this.volumeOn === true) {
            muteButtonRef.src = "assets/icons/volume-full.png";
        } else if (this.volumeOn === false) {
            muteButtonRef.src = "assets/icons/volume-mute.png";
        }
    }

    static initializeAudioSettings() {
        const storedVolume = localStorage.getItem("volumeOn");
        if (storedVolume !== null) {
            this.volumeOn = JSON.parse(storedVolume);
        }

        AudioHub.allSounds.forEach((sound) => {
            sound.volume = this.volumeOn ? 0.2 : 0;
        });
    }
}

/**
 * A static class that manages all intervals in the game.
 * Provides methods to start and stop intervals efficiently.
 */
class IntervalHub {
    /**
     * Stores all active interval IDs for tracking and management.
     * @type {number[]}
     */
    static allIntervals = [];

    /**
     * Starts an interval for a specified function and stores its ID.
     *
     * @param {Function} func - The function to execute at each interval.
     * @param {number} timer - The time delay in milliseconds between function executions.
     * @param {string} where - A debug identifier indicating where the interval is used.
     */
    static startInterval(func, timer, where) {
        const newInterval = setInterval(func, timer);
        IntervalHub.allIntervals.push(newInterval);
    }

    /**
     * Stops all active intervals and clears the stored interval IDs.
     */
    static stopAllIntervals() {
        IntervalHub.allIntervals.forEach(clearInterval);
        IntervalHub.allIntervals = [];
    }
}
